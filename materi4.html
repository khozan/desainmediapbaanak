<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Materi 4: Model ADDIE & ASSURE - Media PBA Anak</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Nunito', 'sans-serif'],
                        display: ['Fredoka', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            light: '#2dd4bf', // Teal light
                            DEFAULT: '#0d9488', // Teal DEFAULT
                            dark: '#115e59', // Teal dark
                        },
                        game: {
                            yellow: '#fbbf24',
                            orange: '#f59e0b',
                            green: '#10b981',
                            red: '#ef4444',
                            blue: '#3b82f6',
                            purple: '#8b5cf6'
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-image: url("https://img.freepik.com/free-vector/hand-drawn-education-pattern-background_23-2149453715.jpg?w=1380&t=st=1709123456~exp=1709124056~hmac=abcdef");
            background-color: #f0fdfa; /* Teal Tint */
            background-blend-mode: overlay;
            background-attachment: fixed;
            background-size: cover;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        }

        /* Interactive Process Step */
        .process-step {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .process-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(13, 148, 136, 0.2);
        }
        .process-step:hover .step-icon {
            background-color: #0d9488;
            color: white;
            transform: scale(1.1) rotate(5deg);
        }

        /* Quiz Styles */
        .option-label { cursor: pointer; transition: all 0.2s ease; }
        .option-input:checked + .option-label {
            background-color: #f0fdfa;
            border-color: #0d9488;
            color: #134e4a;
            box-shadow: 0 4px 6px -1px rgba(13, 148, 136, 0.2);
            transform: translateY(-2px);
        }
        .option-input:checked + .option-label .circle-check {
            background-color: #0d9488;
            border-color: #0d9488;
        }
        .option-input:checked + .option-label .circle-check::after {
            content: '✔'; color: white; font-size: 10px; display: flex; align-items: center; justify-content: center;
        }

        /* Timer Animation */
        .timer-warning {
            animation: pulse-red 1s infinite;
            background-color: #fee2e2 !important;
            color: #b91c1c !important;
            border-color: #b91c1c !important;
        }
        @keyframes pulse-red {
            0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
        }

        /* Reading Progress Bar */
        #reading-progress-container {
            position: fixed;
            top: 64px;
            left: 0;
            width: 100%;
            height: 6px;
            background: rgba(229, 231, 235, 0.5);
            z-index: 40;
        }
        #reading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #2dd4bf, #0f766e);
            width: 0%;
            transition: width 0.1s;
        }
    </style>
</head>
<body class="antialiased text-gray-800 min-h-screen flex flex-col">

    <!-- READING PROGRESS -->
    <div id="reading-progress-container">
        <div id="reading-progress-bar"></div>
    </div>

    <!-- NAVBAR -->
    <nav class="sticky top-0 z-50 glass-panel border-b border-white/40">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <a href="index.html" class="flex items-center gap-2 text-gray-600 hover:text-brand transition font-bold">
                    <i class="fa-solid fa-arrow-left"></i> Kembali
                </a>
                <div class="text-center">
                    <h1 class="font-display font-bold text-lg text-brand-dark hidden md:block">Model Pengembangan Media</h1>
                    <span class="text-xs font-bold bg-teal-100 text-teal-700 px-2 py-0.5 rounded-full">Level 4</span>
                </div>
                <div class="flex items-center gap-2">
                    <span id="user-name" class="text-xs font-bold text-gray-500 hidden sm:block">Loading...</span>
                    <div class="w-8 h-8 rounded-full bg-brand/20 flex items-center justify-center text-brand">
                        <i class="fa-solid fa-user"></i>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- CONTENT -->
    <main class="flex-grow w-full max-w-6xl mx-auto p-4 md:p-6 pb-20 space-y-12">

        <!-- HEADER MATERI -->
        <div class="glass-panel p-10 rounded-3xl relative overflow-hidden text-center transform transition hover:scale-[1.01] duration-500">
            <div class="absolute -top-10 -left-10 w-40 h-40 bg-teal-500/10 rounded-full blur-2xl animate-pulse"></div>
            <div class="absolute bottom-10 right-10 w-40 h-40 bg-brand/10 rounded-full blur-2xl animate-pulse" style="animation-delay: 1s;"></div>
            
            <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-teal-400 to-cyan-600 text-white text-4xl mb-6 shadow-xl transform -rotate-6 hover:rotate-0 transition duration-300">
                <i class="fa-solid fa-project-diagram"></i>
            </div>
            <h2 class="font-display font-bold text-4xl text-gray-800 mb-3">Model ADDIE & ASSURE</h2>
            <p class="text-lg text-gray-500 max-w-2xl mx-auto">Kerangka kerja sistematis untuk pengembangan media pembelajaran bahasa yang efektif dan efisien.</p>
        </div>

        <!-- VISUAL UTAMA (RESPONSIF) -->
        <div class="glass-panel p-2 rounded-3xl overflow-hidden shadow-lg">
            <div class="relative w-full rounded-2xl overflow-hidden group">
                <!-- GAMBAR: Diubah ke gambar4.png dengan class h-auto object-contain -->
                <img src="gambar4.png" alt="Ilustrasi Pengembangan Sistematis" class="w-full h-auto object-contain transform group-hover:scale-105 transition duration-700">
                
                <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent p-6">
                    <p class="text-white font-bold text-lg">Desain Instruksional Sistematis</p>
                    <p class="text-teal-200 text-sm">Kunci sukses pengembangan media ajar yang terstruktur.</p>
                </div>
            </div>
        </div>

        <!-- ISI MATERI -->
        <article class="space-y-12">
            
            <!-- Pendahuluan -->
            <div class="glass-panel p-8 rounded-3xl border-l-8 border-brand">
                <h3 class="font-bold text-2xl text-brand mb-4 flex items-center gap-3">
                    <i class="fa-solid fa-compass-drafting text-teal-500 text-3xl"></i> Mengapa Perlu Model?
                </h3>
                <p class="text-lg leading-relaxed text-gray-700">
                    Pengembangan media pembelajaran memerlukan "peta jalan" agar tidak tersesat. <b>Model ADDIE</b> berorientasi pada pengembangan produk dari nol, sedangkan <b>Model ASSURE</b> fokus pada pemanfaatan media di dalam kelas.
                </p>
            </div>

            <!-- I. MODEL ADDIE -->
            <div>
                <div class="flex items-center gap-3 mb-6">
                    <div class="bg-brand text-white w-10 h-10 rounded-lg flex items-center justify-center font-bold text-xl">1</div>
                    <h3 class="font-display font-bold text-3xl text-gray-800">Model ADDIE</h3>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                    <!-- A -->
                    <div class="process-step glass-panel p-4 rounded-2xl text-center border-t-4 border-blue-500">
                        <div class="step-icon w-12 h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-xl mx-auto mb-3 transition-all duration-300">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </div>
                        <h4 class="font-bold text-gray-800">Analysis</h4>
                        <p class="text-xs text-gray-500 mt-2">Analisis kebutuhan pembelajaran dan karakteristik peserta didik.</p>
                    </div>
                    <!-- D -->
                    <div class="process-step glass-panel p-4 rounded-2xl text-center border-t-4 border-indigo-500">
                        <div class="step-icon w-12 h-12 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xl mx-auto mb-3 transition-all duration-300">
                            <i class="fa-solid fa-pen-ruler"></i>
                        </div>
                        <h4 class="font-bold text-gray-800">Design</h4>
                        <p class="text-xs text-gray-500 mt-2">Perancangan struktur, layout, navigasi, dan alur materi.</p>
                    </div>
                    <!-- D -->
                    <div class="process-step glass-panel p-4 rounded-2xl text-center border-t-4 border-purple-500">
                        <div class="step-icon w-12 h-12 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center text-xl mx-auto mb-3 transition-all duration-300">
                            <i class="fa-solid fa-code"></i>
                        </div>
                        <h4 class="font-bold text-gray-800">Development</h4>
                        <p class="text-xs text-gray-500 mt-2">Pembuatan konten digital (Articulate, Canva, H5P).</p>
                    </div>
                    <!-- I -->
                    <div class="process-step glass-panel p-4 rounded-2xl text-center border-t-4 border-pink-500">
                        <div class="step-icon w-12 h-12 rounded-full bg-pink-100 text-pink-600 flex items-center justify-center text-xl mx-auto mb-3 transition-all duration-300">
                            <i class="fa-solid fa-rocket"></i>
                        </div>
                        <h4 class="font-bold text-gray-800">Implementation</h4>
                        <p class="text-xs text-gray-500 mt-2">Uji coba bahan ajar pada mahasiswa/siswa sebelum digunakan luas.</p>
                    </div>
                    <!-- E -->
                    <div class="process-step glass-panel p-4 rounded-2xl text-center border-t-4 border-red-500">
                        <div class="step-icon w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center text-xl mx-auto mb-3 transition-all duration-300">
                            <i class="fa-solid fa-chart-line"></i>
                        </div>
                        <h4 class="font-bold text-gray-800">Evaluation</h4>
                        <p class="text-xs text-gray-500 mt-2">Evaluasi efektivitas dan revisi untuk peningkatan kualitas.</p>
                    </div>
                </div>
            </div>

            <!-- II. MODEL ASSURE -->
            <div>
                <div class="flex items-center gap-3 mb-6">
                    <div class="bg-game-orange text-white w-10 h-10 rounded-lg flex items-center justify-center font-bold text-xl">2</div>
                    <h3 class="font-display font-bold text-3xl text-gray-800">Model ASSURE</h3>
                </div>
                <p class="text-gray-600 mb-4 ml-1">Fokus pada integrasi media di dalam kelas (Oleh Heinich).</p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-white p-4 rounded-xl border-l-4 border-orange-400 shadow-sm hover:bg-orange-50 transition">
                        <b class="text-orange-600">A - Analyze Learners</b>
                        <p class="text-sm text-gray-600">Pahami gaya belajar & kemampuan awal siswa.</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl border-l-4 border-orange-400 shadow-sm hover:bg-orange-50 transition">
                        <b class="text-orange-600">S - State Objectives</b>
                        <p class="text-sm text-gray-600">Tentukan tujuan ABCD (Audience, Behavior, Condition, Degree).</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl border-l-4 border-orange-400 shadow-sm hover:bg-orange-50 transition">
                        <b class="text-orange-600">S - Select Methods/Media</b>
                        <p class="text-sm text-gray-600">Pilih metode & media yang relevan.</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl border-l-4 border-orange-400 shadow-sm hover:bg-orange-50 transition">
                        <b class="text-orange-600">U - Utilize Media</b>
                        <p class="text-sm text-gray-600">Uji coba & gunakan media dalam pembelajaran.</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl border-l-4 border-orange-400 shadow-sm hover:bg-orange-50 transition">
                        <b class="text-orange-600">R - Require Participation</b>
                        <p class="text-sm text-gray-600">Libatkan siswa secara aktif (diskusi/kuis).</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl border-l-4 border-orange-400 shadow-sm hover:bg-orange-50 transition">
                        <b class="text-orange-600">E - Evaluate & Revise</b>
                        <p class="text-sm text-gray-600">Nilai efektivitas & revisi untuk perbaikan.</p>
                    </div>
                </div>
            </div>

            <!-- III. PERBANDINGAN -->
            <div class="glass-panel p-6 rounded-3xl overflow-hidden">
                <h3 class="font-bold text-xl text-gray-800 mb-4 text-center">ADDIE vs ASSURE</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left">
                        <thead class="bg-gray-100 text-gray-700 uppercase">
                            <tr>
                                <th class="p-3">Aspek</th>
                                <th class="p-3 text-blue-600">ADDIE</th>
                                <th class="p-3 text-orange-600">ASSURE</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200 bg-white">
                            <tr>
                                <td class="p-3 font-bold">Fokus</td>
                                <td class="p-3">Pengembangan Produk (Sistematis)</td>
                                <td class="p-3">Integrasi dalam Kelas (Praktis)</td>
                            </tr>
                            <tr>
                                <td class="p-3 font-bold">Pengguna</td>
                                <td class="p-3">Desainer Instruksional / Pengembang</td>
                                <td class="p-3">Guru / Pendidik</td>
                            </tr>
                            <tr>
                                <td class="p-3 font-bold">Sifat</td>
                                <td class="p-3">Linear & Terstruktur</td>
                                <td class="p-3">Fleksibel & Interaktif</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- IV. MODEL LAIN (Detailed) -->
            <div id="other-models">
                <h3 class="font-bold text-xl text-gray-800 mb-6 flex items-center gap-2">
                    <i class="fa-solid fa-layer-group text-teal-600"></i> Model Pengembangan Lainnya
                </h3>
                
                <div class="space-y-4">
                    
                    <!-- Dick & Carey -->
                    <details class="glass-panel p-2 rounded-2xl group cursor-pointer transition-all duration-300">
                        <summary class="flex justify-between items-center p-4 bg-white/50 rounded-xl font-bold text-gray-800 list-none select-none hover:bg-white/80 transition">
                            <span class="flex items-center gap-3">
                                <span class="bg-blue-100 text-blue-600 w-8 h-8 flex items-center justify-center rounded-lg"><i class="fa-solid fa-list-ol"></i></span>
                                Model Dick & Carey
                            </span>
                            <span class="transition-transform duration-300 group-open:rotate-180"><i class="fa-solid fa-chevron-down"></i></span>
                        </summary>
                        <div class="p-6 text-sm text-gray-600 border-t border-gray-100/50 mt-2">
                            <p class="mb-4">Model ini menggunakan pendekatan sistematis dalam perancangan pembelajaran digital yang mencakup sembilan langkah utama:</p>
                            <ol class="list-decimal pl-5 space-y-2 marker:text-blue-600 marker:font-bold">
                                <li><b>Identifikasi tujuan pembelajaran:</b> Menentukan apa yang diinginkan agar siswa dapat melakukannya.</li>
                                <li><b>Analisis instruksional:</b> Menentukan keterampilan dan pengetahuan prasyarat.</li>
                                <li><b>Analisis pembelajar dan konteks:</b> Menganalisis karakteristik peserta didik.</li>
                                <li><b>Merumuskan tujuan performa:</b> Pernyataan spesifik tentang kemampuan yang akan dicapai.</li>
                                <li><b>Mengembangkan instrumen evaluasi:</b> Tes untuk mengukur kemampuan sesuai tujuan.</li>
                                <li><b>Merancang strategi instruksional:</b> Merancang aktivitas pembelajaran.</li>
                                <li><b>Mengembangkan dan memilih materi:</b> Memilih atau memproduksi bahan ajar digital.</li>
                                <li><b>Melaksanakan evaluasi formatif:</b> Memperbaiki materi berdasarkan data awal.</li>
                                <li><b>Melakukan evaluasi sumatif:</b> Memastikan efektivitas akhir (biasanya dilakukan pihak eksternal).</li>
                            </ol>
                            <p class="mt-4 bg-blue-50 p-3 rounded-lg border-l-4 border-blue-500 text-xs">
                                <b>Kesimpulan:</b> Cocok untuk pengembangan bahan ajar digital yang berbasis instruksi sistematis dan terstruktur jelas.
                            </p>
                        </div>
                    </details>

                    <!-- Hannafin & Peck -->
                    <details class="glass-panel p-2 rounded-2xl group cursor-pointer transition-all duration-300">
                        <summary class="flex justify-between items-center p-4 bg-white/50 rounded-xl font-bold text-gray-800 list-none select-none hover:bg-white/80 transition">
                            <span class="flex items-center gap-3">
                                <span class="bg-purple-100 text-purple-600 w-8 h-8 flex items-center justify-center rounded-lg"><i class="fa-solid fa-rotate"></i></span>
                                Model Hannafin & Peck
                            </span>
                            <span class="transition-transform duration-300 group-open:rotate-180"><i class="fa-solid fa-chevron-down"></i></span>
                        </summary>
                        <div class="p-6 text-sm text-gray-600 border-t border-gray-100/50 mt-2">
                            <p class="mb-4">Model ini berbasis tiga tahapan utama yang berfokus pada iterasi dan fleksibilitas:</p>
                            <ul class="space-y-3">
                                <li class="flex gap-3">
                                    <span class="font-bold text-purple-600 min-w-[20px]">a.</span>
                                    <span><b>Perencanaan:</b> Analisis kebutuhan, penentuan tujuan, dan pengumpulan data.</span>
                                </li>
                                <li class="flex gap-3">
                                    <span class="font-bold text-purple-600 min-w-[20px]">b.</span>
                                    <span><b>Pengembangan:</b> Pembuatan desain digital melalui proses iteratif (uji coba & revisi berulang).</span>
                                </li>
                                <li class="flex gap-3">
                                    <span class="font-bold text-purple-600 min-w-[20px]">c.</span>
                                    <span><b>Evaluasi:</b> Dilakukan berkelanjutan selama proses pengembangan dan setelah implementasi.</span>
                                </li>
                            </ul>
                            <p class="mt-4 bg-purple-50 p-3 rounded-lg border-l-4 border-purple-500 text-xs">
                                <b>Kesimpulan:</b> Lebih fleksibel dibanding ADDIE, berorientasi pada pengembangan prototipe yang terus disempurnakan.
                            </p>
                        </div>
                    </details>

                    <!-- Borg & Gall -->
                    <details class="glass-panel p-2 rounded-2xl group cursor-pointer transition-all duration-300">
                        <summary class="flex justify-between items-center p-4 bg-white/50 rounded-xl font-bold text-gray-800 list-none select-none hover:bg-white/80 transition">
                            <span class="flex items-center gap-3">
                                <span class="bg-indigo-100 text-indigo-600 w-8 h-8 flex items-center justify-center rounded-lg"><i class="fa-solid fa-flask"></i></span>
                                Model Borg and Gall (R&D)
                            </span>
                            <span class="transition-transform duration-300 group-open:rotate-180"><i class="fa-solid fa-chevron-down"></i></span>
                        </summary>
                        <div class="p-6 text-sm text-gray-600 border-t border-gray-100/50 mt-2">
                            <p class="mb-3">Berfokus pada penelitian dan pengembangan (R&D) dengan pendekatan iteratif. Memastikan bahan ajar memenuhi standar akademik melalui validasi ahli.</p>
                            <h5 class="font-bold text-indigo-600 mb-2">10 Langkah Utama:</h5>
                            <ol class="grid grid-cols-1 md:grid-cols-2 gap-2 text-xs">
                                <li class="bg-white p-2 rounded border border-indigo-100">1. Penelitian Awal & Analisis Literatur</li>
                                <li class="bg-white p-2 rounded border border-indigo-100">2. Perencanaan Strategi & Alat</li>
                                <li class="bg-white p-2 rounded border border-indigo-100">3. Pengembangan Produk Awal (Draft)</li>
                                <li class="bg-white p-2 rounded border border-indigo-100">4. Uji Coba Awal (Validasi Ahli)</li>
                                <li class="bg-white p-2 rounded border border-indigo-100">5. Revisi Produk Awal</li>
                                <li class="bg-white p-2 rounded border border-indigo-100">6. Uji Coba Lapangan (Kelompok Kecil)</li>
                                <li class="bg-white p-2 rounded border border-indigo-100">7. Revisi Lanjutan</li>
                                <li class="bg-white p-2 rounded border border-indigo-100">8. Uji Coba Operasional (Skala Luas)</li>
                                <li class="bg-white p-2 rounded border border-indigo-100">9. Finalisasi Produk</li>
                                <li class="bg-white p-2 rounded border border-indigo-100">10. Diseminasi & Implementasi Luas</li>
                            </ol>
                        </div>
                    </details>

                    <!-- ADIC -->
                    <details class="glass-panel p-2 rounded-2xl group cursor-pointer transition-all duration-300">
                        <summary class="flex justify-between items-center p-4 bg-white/50 rounded-xl font-bold text-gray-800 list-none select-none hover:bg-white/80 transition">
                            <span class="flex items-center gap-3">
                                <span class="bg-pink-100 text-pink-600 w-8 h-8 flex items-center justify-center rounded-lg"><i class="fa-solid fa-desktop"></i></span>
                                Model ADIC (Digital Interactive)
                            </span>
                            <span class="transition-transform duration-300 group-open:rotate-180"><i class="fa-solid fa-chevron-down"></i></span>
                        </summary>
                        <div class="p-6 text-sm text-gray-600 border-t border-gray-100/50 mt-2">
                            <p class="mb-4">Model Almekhlafi Digital Interactive Content (ADIC) khusus untuk konten digital interaktif. Terbukti efektif dalam uji coba fakultas & mahasiswa.</p>
                            <div class="grid grid-cols-1 gap-3">
                                <div class="flex items-start gap-3">
                                    <div class="bg-pink-100 text-pink-600 w-6 h-6 rounded-full flex items-center justify-center shrink-0 font-bold text-xs">1</div>
                                    <div><b>Perencanaan:</b> Identifikasi kebutuhan, tujuan, dan sasaran pengguna.</div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <div class="bg-pink-100 text-pink-600 w-6 h-6 rounded-full flex items-center justify-center shrink-0 font-bold text-xs">2</div>
                                    <div><b>Desain:</b> Penyusunan struktur interaktif, pemilihan media, dan strategi digital.</div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <div class="bg-pink-100 text-pink-600 w-6 h-6 rounded-full flex items-center justify-center shrink-0 font-bold text-xs">3</div>
                                    <div><b>Produksi:</b> Pembuatan menggunakan alat seperti Articulate, Adobe Captivate, H5P.</div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <div class="bg-pink-100 text-pink-600 w-6 h-6 rounded-full flex items-center justify-center shrink-0 font-bold text-xs">4</div>
                                    <div><b>Evaluasi:</b> Uji coba pengguna serta perbaikan berdasarkan umpan balik.</div>
                                </div>
                            </div>
                        </div>
                    </details>

                </div>
            </div>

            <!-- Referensi Accordion -->
            <details class="glass-panel p-5 rounded-2xl group cursor-pointer transition-all duration-300">
                <summary class="flex justify-between items-center font-bold text-gray-700 list-none select-none">
                    <span class="flex items-center gap-2 text-lg"><i class="fa-solid fa-graduation-cap text-brand"></i> Referensi Akademik Lengkap</span>
                    <span class="transition-transform duration-300 group-open:rotate-180 bg-gray-100 p-2 rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-200"><i class="fa-solid fa-chevron-down text-sm"></i></span>
                </summary>
                <div class="mt-4 pt-4 border-t border-gray-100 animate-fade-in-up">
                    <ul class="space-y-3 text-xs text-gray-600 font-mono text-justify pl-2">
                        <li>Cai, J.-Y., Ma, R.-L., & Xu, J. (2023). Application of ASSURE Model in International Chinese Language Smart Education. <i>ACM International Conference Proceeding Series</i>.</li>
                        <li>Haristiani, N., & Rifai, M. M. (2021). Chatbot-based application development and implementation as an autonomous language learning medium. <i>Indonesian Journal of Science and Technology</i>.</li>
                        <li>Hijriyah, U., Edi, R. N., Erlina, et al. (2024). Innovative Approaches to Arabic Vocabulary Learning for Islamic Senior High School Students with Lectora Inspire. <i>Jurnal Pendidikan Islam</i>.</li>
                        <li>Juan, X. (2011). ASSURE model training for teachers of teaching Chinese as a second language. <i>2011 International Conference on Consumer Electronics, Communications and Networks (CECNet 2011) Proceedings</i>.</li>
                        <li>Lukanina, M. V., & Merkulova, S. G. (2023). The ADDIE Model in Instructional Design: NUST MISIS Case Study. <i>Vysshee Obrazovanie v Rossii</i>.</li>
                        <li>Sudarmilah, E., Maharani Utami, Y., & Yuliana, I. (2020). 3D Interactive Multimedia in English Language Learning. <i>Journal of Physics: Conference Series</i>.</li>
                        <li>Zunaidah, A., & Asih, R. (2024). Tapping into The Interactive Online Classroom: The Use of Multimedia in E-Learning. <i>2024 2nd International Conference on Software Engineering and Information Technology</i>.</li>
                    </ul>
                </div>
            </details>

        </article>

        <!-- QUIZ GAME SECTION -->
        <section id="quiz-section" class="mt-12 relative">
            
            <!-- START PANEL -->
            <div id="start-panel" class="glass-panel p-10 rounded-3xl text-center shadow-2xl transform transition hover:scale-[1.02] duration-300 relative overflow-hidden border-2 border-white/50">
                <div class="absolute inset-0 bg-gradient-to-br from-teal-500/5 to-cyan-500/5 z-0"></div>
                <div class="relative z-10 flex flex-col items-center">
                    <div class="w-24 h-24 bg-brand rounded-full flex items-center justify-center mb-6 shadow-lg shadow-teal-200 animate-bounce">
                        <i class="fa-solid fa-brain text-4xl text-white"></i>
                    </div>
                    <h2 class="font-display font-bold text-3xl text-gray-800 mb-2">Tantangan Materi 4</h2>
                    <div class="flex items-center gap-4 text-sm text-gray-500 font-bold mb-8 bg-white/50 px-4 py-2 rounded-full">
                        <span><i class="fa-regular fa-clock text-red-500"></i> 15 Menit</span>
                        <span>•</span>
                        <span><i class="fa-solid fa-list-check text-blue-500"></i> 20 Soal</span>
                        <span>•</span>
                        <span><i class="fa-solid fa-trophy text-yellow-500"></i> Min. 80</span>
                    </div>
                    <button onclick="startQuiz()" class="bg-gradient-to-r from-teal-500 to-teal-700 hover:from-teal-400 hover:to-teal-600 text-white font-bold py-4 px-12 rounded-2xl shadow-xl shadow-teal-500/30 text-lg transition transform active:scale-95 flex items-center gap-3">
                        <span>Mulai Sekarang</span> <i class="fa-solid fa-rocket"></i>
                    </button>
                </div>
            </div>

            <!-- TIMER STICKY -->
            <div id="timer-display" class="hidden fixed top-20 right-4 md:right-10 z-40 bg-white/90 backdrop-blur border-2 border-brand text-brand-dark px-5 py-2 rounded-full font-mono font-bold shadow-lg flex items-center gap-2 transform scale-110">
                <i class="fa-regular fa-clock animate-pulse"></i> <span id="time-left" class="text-lg">15:00</span>
            </div>

            <!-- QUIZ FORM -->
            <form id="quiz-form" onsubmit="event.preventDefault(); submitQuiz();" class="hidden space-y-6 mt-6">
                <div id="questions-container" class="space-y-6"></div>

                <div class="glass-panel p-6 rounded-2xl sticky bottom-4 z-40 border-t-4 border-brand shadow-2xl">
                    <div class="flex justify-between items-center">
                        <div class="text-sm font-bold text-gray-600">
                            Terjawab: <span id="answered-count" class="text-brand text-lg">0</span>/20
                        </div>
                        <button type="submit" id="btn-submit" class="bg-brand hover:bg-teal-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg transform active:scale-95 transition flex items-center gap-2">
                            <span>Kirim Jawaban</span> <i class="fa-solid fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </form>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="bg-white border-t py-6 mt-10">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <p class="font-display font-bold text-gray-400 text-sm">© 2024 Desain Pengembangan Media Ajar Bahasa Arab.</p>
        </div>
    </footer>

    <!-- LOGIC -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";
        import { getFirestore, doc, updateDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyA-jHdi3VVu9F5i6tLIjGJCcVFfHBieqbI",
            authDomain: "desain-mediapba-anak.firebaseapp.com",
            projectId: "desain-mediapba-anak",
            storageBucket: "desain-mediapba-anak.firebasestorage.app",
            messagingSenderId: "118347735703",
            appId: "1:118347735703:web:bafeb4590ddbe85f7c7fd2",
            measurementId: "G-RN0S3X8V27"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        let currentUser = null;
        let quizInterval;
        let timeRemaining = 15 * 60; 

        // READING PROGRESS
        window.onscroll = function() {
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrolled = (winScroll / height) * 100;
            document.getElementById("reading-progress-bar").style.width = scrolled + "%";
        };

        // SOAL MATERI 4 (20 SOAL)
        const quizData = [
            { q: "Model ADDIE terdiri dari lima tahap utama, yaitu …", options: ["Analyze, Select, Structure, Use, Evaluate", "Analysis, Design, Development, Implementation, Evaluation", "Analyze, Develop, Deliver, Improve, Examine", "Assess, Design, Deploy, Implement, Evaluate", "Analyze, Design, Use, Revise, Evaluate"], a: 1 },
            { q: "Tahap pertama dalam model ADDIE adalah …", options: ["Design", "Development", "Implementation", "Analysis", "Evaluation"], a: 3 },
            { q: "Model ASSURE dikembangkan untuk menekankan …", options: ["Penelitian kuantitatif", "Integrasi media dan teknologi dalam pembelajaran", "Pengembangan kurikulum nasional", "Evaluasi sumatif saja", "Produksi buku cetak"], a: 1 },
            { q: "Dalam model ASSURE, huruf “R” pada tahap kelima berarti …", options: ["Review Learning", "Require Learner Participation", "Revise Instruction", "Research Media", "Record Activity"], a: 1 },
            { q: "Tahap Analysis dalam ADDIE bertujuan untuk …", options: ["Mendesain layout media", "Menguji media di kelas", "Mengidentifikasi kebutuhan dan karakteristik peserta didik", "Menyusun soal evaluasi", "Menyebarluaskan produk"], a: 2 },
            { q: "Evaluasi formatif dalam ADDIE dilakukan untuk …", options: ["Menilai hasil akhir saja", "Memberi nilai peserta didik", "Memperbaiki media selama proses pengembangan", "Mengganti model pembelajaran", "Menghapus tahap desain"], a: 2 },
            { q: "Format ABCD dalam ASSURE digunakan untuk …", options: ["Menyusun media interaktif", "Merancang evaluasi sumatif", "Merumuskan tujuan pembelajaran secara spesifik", "Mengembangkan storyboard", "Mengukur motivasi belajar"], a: 2 },
            { q: "Perbedaan utama ADDIE dan ASSURE terletak pada …", options: ["Jumlah tahapannya", "Fokus pengembangan dan penggunaan media", "Penggunaan teknologi", "Tujuan pembelajaran", "Evaluasi sumatif"], a: 1 },
            { q: "Seorang dosen ingin mengidentifikasi kemampuan awal mahasiswa sebelum membuat media digital. Tahap yang tepat dalam ADDIE adalah …", options: ["Development", "Implementation", "Analysis", "Evaluation", "Design"], a: 2 },
            { q: "Guru memilih metode diskusi dan video interaktif sebelum mengajar. Dalam ASSURE, langkah ini termasuk …", options: ["Analyze Learners", "State Objectives", "Select Methods, Media, and Materials", "Utilize Media", "Evaluate and Revise"], a: 2 },
            { q: "Pembuatan storyboard dan navigasi media dilakukan pada tahap …", options: ["Analysis", "Design", "Implementation", "Evaluation", "Revision"], a: 1 },
            { q: "Uji coba prototipe media sebelum digunakan luas termasuk tahap …", options: ["Analysis", "Development", "Implementation", "Evaluation", "Dissemination"], a: 1 },
            { q: "Jika media sudah dirancang dengan baik tetapi gagal karena tidak sesuai kebutuhan siswa, kemungkinan kesalahan terjadi pada tahap …", options: ["Design", "Development", "Implementation", "Analysis", "Evaluation"], a: 3 },
            { q: "Model ASSURE lebih cocok digunakan oleh guru karena …", options: ["Fokus pada penelitian laboratorium", "Berorientasi pada pengembangan produk skala besar", "Menekankan penggunaan media dalam praktik pembelajaran", "Tidak memerlukan evaluasi", "Hanya digunakan dalam e-learning"], a: 2 },
            { q: "Evaluasi sumatif dalam ADDIE dilakukan untuk …", options: ["Mengidentifikasi kebutuhan awal", "Menguji desain awal", "Menilai dampak media terhadap hasil belajar", "Membuat storyboard", "Menentukan metode pembelajaran"], a: 2 },
            { q: "Jika guru langsung menggunakan media tanpa uji coba terlebih dahulu, maka tahap ASSURE yang terabaikan adalah …", options: ["Analyze Learners", "State Objectives", "Select Methods", "Utilize Media and Materials", "Require Participation"], a: 3 },
            { q: "Untuk pengembangan media pembelajaran bahasa dari nol hingga produk final, model yang paling sistematis digunakan adalah …", options: ["ASSURE", "Hannafin & Peck", "ADDIE", "Diskusi Kelompok", "Ceramah"], a: 2 },
            { q: "Jika tujuan utama adalah meningkatkan partisipasi aktif siswa dalam kelas berbasis teknologi, model yang lebih relevan adalah …", options: ["ADDIE", "ASSURE", "Borg & Gall", "Dick & Carey", "Hannafin"], a: 1 },
            { q: "Media telah melalui evaluasi formatif tetapi belum diuji dampaknya terhadap hasil belajar. Tahap yang belum dilakukan adalah …", options: ["Analysis", "Design", "Implementation", "Evaluasi sumatif", "Development"], a: 3 },
            { q: "Secara komprehensif, pemilihan antara ADDIE dan ASSURE sebaiknya didasarkan pada …", options: ["Tren teknologi terbaru", "Preferensi pribadi guru", "Tujuan pengembangan dan konteks penggunaan media", "Jumlah tahap yang lebih sedikit", "Popularitas model"], a: 2 }
        ];

        // RENDER SOAL
        const renderQuiz = () => {
            const container = document.getElementById('questions-container');
            let html = '';

            quizData.forEach((item, index) => {
                let optionsHtml = '';
                item.options.forEach((opt, optIndex) => {
                    optionsHtml += `
                        <div class="relative">
                            <input type="radio" name="q${index}" value="${optIndex}" id="q${index}_${optIndex}" class="option-input peer sr-only" onchange="window.updateProgress()">
                            <label for="q${index}_${optIndex}" class="option-label flex items-center p-4 bg-white border border-gray-200 rounded-xl hover:bg-teal-50 peer-focus:ring-2 peer-focus:ring-teal-500 peer-focus:ring-offset-2">
                                <div class="circle-check w-5 h-5 border-2 border-gray-300 rounded-full mr-3 flex-shrink-0 transition-colors"></div>
                                <span class="text-sm font-medium text-gray-700">${opt}</span>
                            </label>
                        </div>
                    `;
                });

                html += `
                    <div class="glass-panel p-6 rounded-2xl animate-fade-in-up" style="animation-delay: ${index * 0.05}s">
                        <div class="flex items-start gap-3 mb-4">
                            <span class="bg-teal-100 text-teal-700 font-bold px-2 py-1 rounded text-xs">No. ${index + 1}</span>
                            <p class="font-bold text-gray-800 text-base">${item.q}</p>
                        </div>
                        <div class="space-y-3">
                            ${optionsHtml}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        };

        // START
        window.startQuiz = () => {
            document.getElementById('start-panel').classList.add('hidden');
            document.getElementById('quiz-form').classList.remove('hidden');
            document.getElementById('timer-display').classList.remove('hidden');
            document.getElementById('timer-display').scrollIntoView({ behavior: 'smooth' });

            quizInterval = setInterval(() => {
                timeRemaining--;
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                document.getElementById('time-left').innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeRemaining <= 300) document.getElementById('timer-display').classList.add('timer-warning');
                if (timeRemaining <= 0) {
                    clearInterval(quizInterval);
                    Swal.fire({ title: 'Waktu Habis!', text: 'Dikirim otomatis.', icon: 'info', timer: 2000, showConfirmButton: false }).then(() => window.submitQuiz());
                }
            }, 1000);
        };

        window.updateProgress = () => {
            const answered = document.querySelectorAll('input[type="radio"]:checked').length;
            document.getElementById('answered-count').innerText = answered;
        };

        // SUBMIT
        window.submitQuiz = async () => {
            if(quizInterval) clearInterval(quizInterval);
            const btn = document.getElementById('btn-submit');
            const answered = document.querySelectorAll('input[type="radio"]:checked').length;
            
            if (timeRemaining > 0 && answered < quizData.length) {
                Swal.fire({
                    title: 'Belum Selesai',
                    text: `Baru menjawab ${answered}/${quizData.length}. Yakin kirim?`,
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonText: 'Ya, Kirim',
                    cancelButtonText: 'Lanjut'
                }).then((result) => {
                    if (result.isConfirmed) processScore();
                    else {
                        quizInterval = setInterval(() => {
                            timeRemaining--;
                        }, 1000);
                    }
                });
                return;
            }
            processScore();
        };

        const processScore = async () => {
            const btn = document.getElementById('btn-submit');
            btn.disabled = true;
            btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> Menilai...';

            let correct = 0;
            quizData.forEach((item, index) => {
                const selectedEl = document.querySelector(`input[name="q${index}"]:checked`);
                if (selectedEl && parseInt(selectedEl.value) === item.a) correct++;
            });

            const score = Math.round((correct / quizData.length) * 100);

            try {
                if (currentUser) {
                    const userRef = doc(db, "users", currentUser.uid);
                    await updateDoc(userRef, { "scores.4": score }); // Save to score 4

                    if (score >= 80) {
                        confetti({ particleCount: 200, spread: 90, origin: { y: 0.6 } });
                        await Swal.fire({
                            title: 'Luar Biasa!',
                            html: `Nilai: <span class="text-5xl font-bold text-green-600 block my-4">${score}</span>Materi selanjutnya terbuka!`,
                            icon: 'success',
                            confirmButtonText: 'Ke Dashboard',
                            confirmButtonColor: '#0d9488'
                        });
                    } else {
                        await Swal.fire({
                            title: 'Belum Lulus',
                            html: `Nilai: <span class="text-5xl font-bold text-red-500 block my-4">${score}</span>Butuh 80 untuk lulus.`,
                            icon: 'error',
                            confirmButtonText: 'Coba Lagi',
                            confirmButtonColor: '#f59e0b'
                        });
                    }
                    window.location.href = 'index.html';
                }
            } catch (error) {
                Swal.fire('Error', error.message, 'error');
                btn.disabled = false;
                btn.innerText = 'Kirim Jawaban';
            }
        };

        // INIT
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                currentUser = user;
                const docSnap = await getDoc(doc(db, "users", user.uid));
                if (docSnap.exists()) {
                    document.getElementById('user-name').innerText = docSnap.data().name;
                }
                renderQuiz();
            } else {
                Swal.fire({
                    title: 'Sesi Tidak Ditemukan',
                    text: 'Silakan login kembali.',
                    icon: 'warning',
                    confirmButtonText: 'Login',
                    allowOutsideClick: false
                }).then(() => { window.location.href = 'index.html'; });
            }
        });
    </script>
</body>
</html>